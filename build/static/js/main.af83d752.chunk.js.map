{"version":3,"sources":["components/square.js","components/board.js","components/fallen-soldier-block.js","pieces/piece.js","pieces/bishop.js","pieces/king.js","pieces/knight.js","pieces/pawn.js","pieces/queen.js","pieces/rook.js","helpers/board-initialiser.js","components/game.js","index.js"],"names":["Square","props","className","shade","onClick","style","Board","i","squareShade","piece","this","squares","board","squareRows","j","isEven","push","renderSquare","React","Component","num","FallenSoldierBlock","square","whiteFallenSoldiers","map","ws","index","blackFallenSoldiers","bs","Piece","player","iconUrl","backgroundImage","Bishop","src","dest","Math","abs","pathStart","pathEnd","incrementBy","path","King","Knight","Pawn","initialPositions","1","2","isDestEnemyOccupied","indexOf","Queen","mod","diff","Rook","initialiseChessBoard","Array","fill","Game","state","sourceSelection","status","turn","slice","backgroundColor","setState","isMovePossible","srcToDestPath","getSrcToDestPath","isMoveLegal","isLegal","length","handleClick","id","href","target","ReactDOM","render","document","getElementById"],"mappings":"iPAGe,SAASA,EAAOC,GAC3B,OACE,4BAAQC,UAAW,UAAYD,EAAME,MACrCC,QAASH,EAAMG,QACfC,MAAOJ,EAAMI,Q,ICFEC,E,qLAENC,EAAGC,GAAc,IAAD,OAC3B,OAAO,kBAACR,EAAD,CACPS,MAASC,KAAKT,MAAMU,QAAQJ,GAC5BF,MAASK,KAAKT,MAAMU,QAAQJ,GAAIG,KAAKT,MAAMU,QAAQJ,GAAGF,MAAQ,KAC9DF,MAASK,EACTJ,QAAS,kBAAM,EAAKH,MAAMG,QAAQG,Q,+BAMlC,IADA,IAAMK,EAAQ,GACNL,EAAI,EAAGA,EAAI,EAAGA,IAAI,CAExB,IADA,IAAMM,EAAa,GACXC,EAAI,EAAGA,EAAI,EAAGA,IAAI,CACxB,IAAMN,EAAeO,EAAOR,IAAMQ,EAAOD,KAASC,EAAOR,KAAOQ,EAAOD,GAAK,eAAiB,cAC7FD,EAAWG,KAAKN,KAAKO,aAAgB,EAAFV,EAAOO,EAAGN,IAE/CI,EAAMI,KAAK,yBAAKd,UAAU,aAAaW,IAGzC,OACE,6BACGD,O,GAxB0BM,IAAMC,WA8BzC,SAASJ,EAAOK,GACd,OAAOA,EAAM,IAAM,E,IChCAC,E,qLAENC,EAAQf,EAAGC,GACtB,OAAO,kBAACR,EAAD,CACPS,MAASa,EACTjB,MAASiB,EAAOjB,U,+BAIR,IAAD,OACP,OACE,6BACA,yBAAKH,UAAU,aAAaQ,KAAKT,MAAMsB,oBAAoBC,KAAI,SAACC,EAAIC,GAAL,OAC7D,EAAKT,aAAaQ,EAAIC,OAExB,yBAAKxB,UAAU,aAAaQ,KAAKT,MAAM0B,oBAAoBH,KAAI,SAACI,EAAIF,GAAL,OAC7D,EAAKT,aAAaW,EAAIF,Y,GAhBkBR,IAAMC,WCJjCU,EACjB,WAAYC,EAAQC,GAAS,oBAC3BrB,KAAKoB,OAASA,EACdpB,KAAKL,MAAQ,CAAC2B,gBAAiB,QAAQD,EAAQ,OCDhCE,E,YACnB,WAAYH,GAAQ,qEACZA,EAAoB,IAAXA,EAAc,sEAAwE,wE,4EAGxFI,EAAKC,GAClB,OAAQC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAAKC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,I,uCASxDD,EAAKC,GACpB,IAAeG,EAAWC,EAASC,EAA/BC,EAAO,GACRP,EAAMC,GACPG,EAAYH,EACZI,EAAUL,IAGVI,EAAYJ,EACZK,EAAUJ,GAETC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAC9BK,EAAc,EACdF,GAAa,IAGbE,EAAc,EACdF,GAAa,GAGf,IAAI,IAAI/B,EAAI+B,EAAW/B,EAAIgC,EAAShC,GAAGiC,EACrCC,EAAKzB,KAAKT,GAEZ,OAAOkC,M,GArCyBZ,GCAfa,E,YACnB,WAAYZ,GAAQ,qEACZA,EAAoB,IAAXA,EAAc,sEAAwE,wE,4EAGxFI,EAAKC,GAClB,OAAQD,EAAM,IAAMC,GAClBD,EAAM,IAAMC,GACZD,EAAM,IAAMC,GACZD,EAAM,IAAMC,GACZD,EAAM,IAAMC,GACZD,EAAM,IAAMC,GACZD,EAAM,IAAMC,GACZD,EAAM,IAAMC,I,uCAOCD,EAAKC,GACpB,MAAO,O,GArBuBN,GCAbc,E,YACnB,WAAYb,GAAQ,qEACZA,EAAoB,IAAXA,EAAc,sEAAwE,wE,4EAGxFI,EAAKC,GAClB,OAAQD,EAAM,KAAOC,GACnBD,EAAM,KAAOC,GACbD,EAAM,IAAMC,GACZD,EAAM,KAAOC,GACbD,EAAM,KAAOC,GACbD,EAAM,IAAMC,GACZD,EAAM,KAAOC,GACbD,EAAM,KAAOC,I,yCAQf,MAAO,O,GArByBN,GCAfe,E,YACnB,WAAYd,GAAQ,IAAD,8BACjB,4CAAMA,EAAoB,IAAXA,EAAe,sEAAwE,yEACjGe,iBAAmB,CACtBC,EAAG,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChCC,EAAG,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,KAJf,E,4EAQJb,EAAKC,EAAMa,GAExB,GAAmB,IAAhBtC,KAAKoB,OAAa,CACnB,GAAIK,IAASD,EAAM,IAAMc,GAAyBb,IAASD,EAAM,KAAiD,IAA3CxB,KAAKmC,iBAAiB,GAAGI,QAAQf,GACtG,OAAO,EAEJ,GAAGc,IAAwBb,IAASD,EAAM,GAAKC,IAASD,EAAM,GACjE,OAAO,OAGN,GAAmB,IAAhBxB,KAAKoB,OAAa,CACxB,GAAIK,IAASD,EAAM,IAAMc,GAAyBb,IAASD,EAAM,KAAiD,IAA3CxB,KAAKmC,iBAAiB,GAAGI,QAAQf,GACtG,OAAO,EAEJ,GAAGc,IAAwBb,IAASD,EAAM,GAAKC,IAASD,EAAM,GACjE,OAAO,EAGX,OAAO,I,uCASQA,EAAKC,GACpB,OAAGA,IAASD,EAAM,GACT,CAACA,EAAM,GAERC,IAASD,EAAM,GACd,CAACA,EAAM,GAET,O,GA3CuBL,GCAbqB,E,YACnB,WAAYpB,GAAQ,qEACZA,EAAoB,IAAXA,EAAc,sEAAwE,wE,4EAGxFI,EAAKC,GAClB,IAAIgB,EAAMjB,EAAM,EACZkB,EAAO,EAAID,EAEf,OAAQf,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAAKC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GACpEC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAAMA,GAASD,EAAMiB,GAAQhB,EAAQD,EAAMkB,I,uCAS5DlB,EAAKC,GACpB,IAAeG,EAAWC,EAASC,EAA/BC,EAAO,GACRP,EAAMC,GACPG,EAAYH,EACZI,EAAUL,IAGVI,EAAYJ,EACZK,EAAUJ,GAETC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAC9BK,EAAc,EACdF,GAAa,GAEPF,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GACnCK,EAAc,EACdF,GAAa,GAEPF,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GACnCK,EAAc,EACdF,GAAa,IAGbE,EAAc,EACdF,GAAa,GAGf,IAAI,IAAI/B,EAAI+B,EAAW/B,EAAIgC,EAAShC,GAAGiC,EACrCC,EAAKzB,KAAKT,GAEZ,OAAOkC,M,GAjDwBZ,GCAdwB,E,YACnB,WAAYvB,GAAQ,qEACZA,EAAoB,IAAXA,EAAc,sEAAwE,wE,4EAGxFI,EAAKC,GAClB,IAAIgB,EAAMjB,EAAM,EACZkB,EAAO,EAAID,EACf,OAAQf,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAAMA,GAASD,EAAMiB,GAAQhB,EAAQD,EAAMkB,I,uCASjElB,EAAKC,GACpB,IAAeG,EAAWC,EAASC,EAA/BC,EAAO,GACRP,EAAMC,GACPG,EAAYH,EACZI,EAAUL,IAGVI,EAAYJ,EACZK,EAAUJ,GAETC,KAAKC,IAAIH,EAAMC,GAAQ,IAAM,GAC9BK,EAAc,EACdF,GAAa,IAGbE,EAAc,EACdF,GAAa,GAGf,IAAI,IAAI/B,EAAI+B,EAAW/B,EAAIgC,EAAShC,GAAGiC,EACrCC,EAAKzB,KAAKT,GAEZ,OAAOkC,M,GAvCuBZ,GCKnB,SAASyB,IAGtB,IAFA,IAAM3C,EAAU4C,MAAM,IAAIC,KAAK,MAEvBjD,EAAI,EAAGA,EAAI,GAAIA,IACrBI,EAAQJ,GAAK,IAAIqC,EAAK,GACtBjC,EAAQJ,EAAE,IAAM,IAAIqC,EAAK,GAuB3B,OArBAjC,EAAQ,GAAK,IAAI0C,EAAK,GACtB1C,EAAQ,GAAK,IAAI0C,EAAK,GACtB1C,EAAQ,IAAM,IAAI0C,EAAK,GACvB1C,EAAQ,IAAM,IAAI0C,EAAK,GAEvB1C,EAAQ,GAAK,IAAIgC,EAAO,GACxBhC,EAAQ,GAAK,IAAIgC,EAAO,GACxBhC,EAAQ,IAAM,IAAIgC,EAAO,GACzBhC,EAAQ,IAAM,IAAIgC,EAAO,GAEzBhC,EAAQ,GAAK,IAAIsB,EAAO,GACxBtB,EAAQ,GAAK,IAAIsB,EAAO,GACxBtB,EAAQ,IAAM,IAAIsB,EAAO,GACzBtB,EAAQ,IAAM,IAAIsB,EAAO,GAEzBtB,EAAQ,GAAK,IAAIuC,EAAM,GACvBvC,EAAQ,GAAK,IAAI+B,EAAK,GAEtB/B,EAAQ,IAAM,IAAIuC,EAAM,GACxBvC,EAAQ,IAAM,IAAI+B,EAAK,GAEhB/B,E,6jBC7BY8C,E,YACnB,aAAc,IAAD,8BACX,+CACKC,MAAQ,CACX/C,QAAS2C,IACT/B,oBAAqB,GACrBI,oBAAqB,GACrBG,OAAQ,EACR6B,iBAAkB,EAClBC,OAAQ,GACRC,KAAM,SATG,E,yEAaDtD,GACV,IAAMI,EAAUD,KAAKgD,MAAM/C,QAAQmD,QAEnC,IAAmC,IAAhCpD,KAAKgD,MAAMC,gBACRhD,EAAQJ,IAAMI,EAAQJ,GAAGuB,SAAWpB,KAAKgD,MAAM5B,QAOjDnB,EAAQJ,GAAGF,MAAX,KAAuBM,EAAQJ,GAAGF,MAAlC,CAAyC0D,gBAAiB,qBAC1DrD,KAAKsD,SAAS,CACZJ,OAAQ,4CACRD,gBAAiBpD,MATnBG,KAAKsD,SAAS,CAACJ,OAAQ,kCAAoClD,KAAKgD,MAAM5B,OAAS,aAC3EnB,EAAQJ,KACVI,EAAQJ,GAAGF,MAAX,KAAuBM,EAAQJ,GAAGF,MAAlC,CAAyC0D,gBAAiB,YAY3D,GAAGrD,KAAKgD,MAAMC,iBAAmB,EAEpC,GADAhD,EAAQD,KAAKgD,MAAMC,iBAAiBtD,MAApC,KAAgDM,EAAQD,KAAKgD,MAAMC,iBAAiBtD,MAApF,CAA2F0D,gBAAiB,KACzGpD,EAAQJ,IAAMI,EAAQJ,GAAGuB,SAAWpB,KAAKgD,MAAM5B,OAChDpB,KAAKsD,SAAS,CACZJ,OAAQ,8DACRD,iBAAkB,QAGlB,CAEF,IAAMhD,EAAUD,KAAKgD,MAAM/C,QAAQmD,QAC7BvC,EAAsBb,KAAKgD,MAAMnC,oBAAoBuC,QACrDnC,EAAsBjB,KAAKgD,MAAM/B,oBAAoBmC,QACrDd,IAAsBrC,EAAQJ,GAC9B0D,EAAiBtD,EAAQD,KAAKgD,MAAMC,iBAAiBM,eAAevD,KAAKgD,MAAMC,gBAAiBpD,EAAGyC,GACnGkB,EAAgBvD,EAAQD,KAAKgD,MAAMC,iBAAiBQ,iBAAiBzD,KAAKgD,MAAMC,gBAAiBpD,GACjG6D,EAAc1D,KAAK0D,YAAYF,GAErC,GAAGD,GAAkBG,EAAY,CACb,OAAfzD,EAAQJ,KACgB,IAAtBI,EAAQJ,GAAGuB,OACZP,EAAoBP,KAAKL,EAAQJ,IAGjCoB,EAAoBX,KAAKL,EAAQJ,KAGrCI,EAAQJ,GAAKI,EAAQD,KAAKgD,MAAMC,iBAChChD,EAAQD,KAAKgD,MAAMC,iBAAmB,KACtC,IAAI7B,EAA+B,IAAtBpB,KAAKgD,MAAM5B,OAAc,EAAG,EACrC+B,EAA2B,UAApBnD,KAAKgD,MAAMG,KAAkB,QAAU,QAClDnD,KAAKsD,SAAS,CACZL,iBAAkB,EAClBhD,QAASA,EACTY,oBAAqBA,EACrBI,oBAAqBA,EACrBG,OAAQA,EACR8B,OAAQ,GACRC,KAAMA,SAIRnD,KAAKsD,SAAS,CACZJ,OAAQ,8DACRD,iBAAkB,O,kCAahBO,GAEV,IADA,IAAIG,GAAU,EACN9D,EAAI,EAAGA,EAAI2D,EAAcI,OAAQ/D,IACK,OAAzCG,KAAKgD,MAAM/C,QAAQuD,EAAc3D,MAClC8D,GAAU,GAGd,OAAOA,I,+BAGC,IAAD,OAEP,OACE,6BACE,yBAAKnE,UAAU,QACb,yBAAKA,UAAU,cACb,kBAAC,EAAD,CACAS,QAAWD,KAAKgD,MAAM/C,QACtBP,QAAW,SAACG,GAAD,OAAO,EAAKgE,YAAYhE,OAGrC,yBAAKL,UAAU,aACb,oCACA,yBAAKsE,GAAG,kBAAkBnE,MAAO,CAAC0D,gBAAiBrD,KAAKgD,MAAMG,QAG9D,yBAAK3D,UAAU,eAAeQ,KAAKgD,MAAME,QAEzC,yBAAK1D,UAAU,wBAEZ,kBAAC,EAAD,CACDqB,oBAAuBb,KAAKgD,MAAMnC,oBAClCI,oBAAuBjB,KAAKgD,MAAM/B,yBAQxC,yBAAKzB,UAAU,qBACb,iCAAM,4FAAiE,uBAAGuE,KAAK,wCAAR,QAAjE,KAA0H,uBAAGA,KAAK,kDAAR,gBAA1H,KAAqM,uBAAGA,KAAK,kDAAR,OAArM,OAAyQ,uBAAGA,KAAK,wCAAR,OAAzQ,MAAkU,uBAAGA,KAAK,gEAAR,yBAAlU,OAER,4BACE,4BAAI,uBAAGA,KAAK,yCAAyCC,OAAO,UAAxD,eAAJ,W,GAtIwBxD,IAAMC,WCAxCwD,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.af83d752.chunk.js","sourcesContent":["import React from 'react';\nimport '../index.css';\n\nexport default function Square(props) {\n    return (\n      <button className={\"square \" + props.shade}\n      onClick={props.onClick}\n      style={props.style}>\n      </button>\n    );\n  \n}","import React from 'react';\n\nimport '../index.css';\nimport Square from './square.js';\n\nexport default class Board extends React.Component {\n\n  renderSquare(i, squareShade) {\n    return <Square \n    piece = {this.props.squares[i]} \n    style = {this.props.squares[i]? this.props.squares[i].style : null}\n    shade = {squareShade}\n    onClick={() => this.props.onClick(i)}\n    />\n  }\n\n  render() {\n    const board = [];\n    for(let i = 0; i < 8; i++){\n      const squareRows = [];\n      for(let j = 0; j < 8; j++){\n        const squareShade = (isEven(i) && isEven(j)) || (!isEven(i) && !isEven(j))? \"light-square\" : \"dark-square\";\n        squareRows.push(this.renderSquare((i*8) + j, squareShade));\n      }\n      board.push(<div className=\"board-row\">{squareRows}</div>)\n    }\n\n    return (\n      <div>\n        {board}\n      </div>\n    );\n  }\n}\n\nfunction isEven(num){\n  return num % 2 === 0\n}","import React from 'react';\nimport '../index.css';\nimport Square from './square.js';\n\nexport default class FallenSoldierBlock extends React.Component {\n\n  renderSquare(square, i, squareShade) {\n    return <Square \n    piece = {square} \n    style = {square.style}\n    />\n  }\n\n  render() {\n    return (\n      <div>\n      <div className=\"board-row\">{this.props.whiteFallenSoldiers.map((ws, index) =>\n        this.renderSquare(ws, index)\n        )}</div>\n      <div className=\"board-row\">{this.props.blackFallenSoldiers.map((bs, index) =>\n        this.renderSquare(bs, index)\n        )}</div>\n      </div>\n      );\n  }\n}","export default class Piece {\n    constructor(player, iconUrl){\n      this.player = player;\n      this.style = {backgroundImage: \"url('\"+iconUrl+\"')\"};\n    }\n  }","import Piece from './piece.js';\n\nexport default class Bishop extends Piece {\n  constructor(player){\n    super(player, (player === 1? \"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg\"));\n  }\n\n  isMovePossible(src, dest){\n    return (Math.abs(src - dest) % 9 === 0 || Math.abs(src - dest) % 7 === 0);\n  }\n\n  /**\n   * get path between src and dest (src and dest exclusive)\n   * @param  {num} src  \n   * @param  {num} dest \n   * @return {[array]}      \n   */\n  getSrcToDestPath(src, dest){\n    let path = [], pathStart, pathEnd, incrementBy;\n    if(src > dest){\n      pathStart = dest;\n      pathEnd = src;\n    }\n    else{\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if(Math.abs(src - dest) % 9 === 0){\n      incrementBy = 9;\n      pathStart += 9;\n    }\n    else{\n      incrementBy = 7;\n      pathStart += 7;\n    }\n\n    for(let i = pathStart; i < pathEnd; i+=incrementBy){\n      path.push(i);\n    }\n    return path;\n  }\n}","import Piece from './piece.js';\n\nexport default class King extends Piece {\n  constructor(player){\n    super(player, (player === 1? \"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg\"));\n  }\n\n  isMovePossible(src, dest){\n    return (src - 9 === dest || \n      src - 8 === dest || \n      src - 7 === dest || \n      src + 1 === dest || \n      src + 9 === dest || \n      src + 8 === dest || \n      src + 7 === dest || \n      src - 1 === dest);\n  }\n\n  /**\n   * always returns empty array because of one step\n   * @return {[]}\n   */\n  getSrcToDestPath(src, dest){\n    return [];\n  }\n}","import Piece from './piece.js';\n\nexport default class Knight extends Piece {\n  constructor(player){\n    super(player, (player === 1? \"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg\"));\n  }\n\n  isMovePossible(src, dest){\n    return (src - 17 === dest || \n      src - 10 === dest || \n      src + 6 === dest || \n      src + 15 === dest || \n      src - 15 === dest || \n      src - 6 === dest || \n      src + 10 === dest || \n      src + 17 === dest);\n  }\n\n  /**\n   * always returns empty array because of jumping\n   * @return {[]}\n   */\n  getSrcToDestPath(){\n    return [];\n  }\n}","import Piece from './piece.js';\n\nexport default class Pawn extends Piece {\n  constructor(player){\n    super(player, (player === 1?  \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\"));\n    this.initialPositions = {\n      1: [48, 49, 50, 51, 52, 53, 54, 55],\n      2: [8, 9, 10, 11, 12, 13, 14, 15]\n    }\n  }\n\n  isMovePossible(src, dest, isDestEnemyOccupied){\n\n    if(this.player === 1){\n      if((dest === src - 8 && !isDestEnemyOccupied) || (dest === src - 16 && this.initialPositions[1].indexOf(src) !== -1)){\n        return true;\n      }\n      else if(isDestEnemyOccupied && (dest === src - 9 || dest === src - 7)){\n        return true;\n      }\n    }\n    else if(this.player === 2){\n      if((dest === src + 8 && !isDestEnemyOccupied) || (dest === src + 16 && this.initialPositions[2].indexOf(src) !== -1)){\n        return true;\n      }\n      else if(isDestEnemyOccupied && (dest === src + 9 || dest === src + 7)){\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * returns array of one if pawn moves two steps, else returns empty array  \n   * @param  {[type]} src  [description]\n   * @param  {[type]} dest [description]\n   * @return {[type]}      [description]\n   */\n  getSrcToDestPath(src, dest){\n    if(dest === src - 16){\n      return [src - 8];\n    }\n    else if(dest === src + 16){\n      return [src + 8];\n    }\n    return [];\n  }\n}","import Piece from './piece.js';\n\nexport default class Queen extends Piece {\n  constructor(player){\n    super(player, (player === 1? \"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg\"));\n  }\n\n  isMovePossible(src, dest){\n    let mod = src % 8;\n    let diff = 8 - mod;\n    \n    return (Math.abs(src - dest) % 9 === 0 || Math.abs(src - dest) % 7 === 0) ||\n      (Math.abs(src - dest) % 8 === 0 || (dest >= (src - mod) && dest < (src + diff)));\n  }\n\n  /**\n   * get path between src and dest (src and dest exclusive)\n   * @param  {num} src  \n   * @param  {num} dest \n   * @return {[array]}      \n   */\n  getSrcToDestPath(src, dest){\n    let path = [], pathStart, pathEnd, incrementBy;\n    if(src > dest){\n      pathStart = dest;\n      pathEnd = src;\n    }\n    else{\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if(Math.abs(src - dest) % 8 === 0){\n      incrementBy = 8;\n      pathStart += 8;\n    }\n    else if(Math.abs(src - dest) % 9 === 0){\n      incrementBy = 9;\n      pathStart += 9;\n    }\n    else if(Math.abs(src - dest) % 7 === 0){\n      incrementBy = 7;\n      pathStart += 7;\n    }\n    else{\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for(let i = pathStart; i < pathEnd; i+=incrementBy){\n      path.push(i);\n    }\n    return path;\n  }\n}","import Piece from './piece.js';\n\nexport default class Rook extends Piece {\n  constructor(player){\n    super(player, (player === 1? \"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg\"));\n  }\n\n  isMovePossible(src, dest){\n    let mod = src % 8;\n    let diff = 8 - mod;\n    return (Math.abs(src - dest) % 8 === 0 || (dest >= (src - mod) && dest < (src + diff)));\n  }\n\n  /**\n   * get path between src and dest (src and dest exclusive)\n   * @param  {num} src  \n   * @param  {num} dest \n   * @return {[array]}      \n   */\n  getSrcToDestPath(src, dest){\n    let path = [], pathStart, pathEnd, incrementBy;\n    if(src > dest){\n      pathStart = dest;\n      pathEnd = src;\n    }\n    else{\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if(Math.abs(src - dest) % 8 === 0){\n      incrementBy = 8;\n      pathStart += 8;\n    }\n    else{\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for(let i = pathStart; i < pathEnd; i+=incrementBy){\n      path.push(i);\n    }\n    return path;\n  }\n}","import Bishop from '../pieces/bishop.js';\nimport King from '../pieces/king.js';\nimport Knight from '../pieces/knight.js';\nimport Pawn from '../pieces/pawn.js';\nimport Queen from '../pieces/queen.js';\nimport Rook from '../pieces/rook.js';\n\nexport default function initialiseChessBoard(){\n  const squares = Array(64).fill(null);\n\n  for(let i = 8; i < 16; i++){\n    squares[i] = new Pawn(2);\n    squares[i+40] = new Pawn(1);\n  }\n  squares[0] = new Rook(2);\n  squares[7] = new Rook(2);\n  squares[56] = new Rook(1);\n  squares[63] = new Rook(1);\n\n  squares[1] = new Knight(2);\n  squares[6] = new Knight(2);\n  squares[57] = new Knight(1);\n  squares[62] = new Knight(1);\n\n  squares[2] = new Bishop(2);\n  squares[5] = new Bishop(2);\n  squares[58] = new Bishop(1);\n  squares[61] = new Bishop(1);\n\n  squares[3] = new Queen(2);\n  squares[4] = new King(2);\n\n  squares[59] = new Queen(1);\n  squares[60] = new King(1);\n\n  return squares;\n}","import React from 'react';\nimport '../index.css';\nimport Board from './board.js';\nimport FallenSoldierBlock from './fallen-soldier-block.js';\nimport initialiseChessBoard from '../helpers/board-initialiser.js';\n\nexport default class Game extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      squares: initialiseChessBoard(),\n      whiteFallenSoldiers: [],\n      blackFallenSoldiers: [],\n      player: 1,\n      sourceSelection: -1,\n      status: '',\n      turn: 'white'\n    }\n  }\n \n  handleClick(i){\n    const squares = this.state.squares.slice();\n    \n    if(this.state.sourceSelection === -1){\n      if(!squares[i] || squares[i].player !== this.state.player){\n        this.setState({status: \"Wrong selection. Choose player \" + this.state.player + \" pieces.\"});\n        if (squares[i]) {\n          squares[i].style = {...squares[i].style, backgroundColor: \"\"};\n        }\n      }\n      else{\n        squares[i].style = {...squares[i].style, backgroundColor: \"RGB(111,143,114)\"}; // Emerald from http://omgchess.blogspot.com/2015/09/chess-board-color-schemes.html\n        this.setState({\n          status: \"Choose destination for the selected piece\",\n          sourceSelection: i\n        });\n      }\n    }\n\n    else if(this.state.sourceSelection > -1){\n      squares[this.state.sourceSelection].style = {...squares[this.state.sourceSelection].style, backgroundColor: \"\"};\n      if(squares[i] && squares[i].player === this.state.player){\n        this.setState({\n          status: \"Wrong selection. Choose valid source and destination again.\",\n          sourceSelection: -1,\n        });\n      }\n      else{\n        \n        const squares = this.state.squares.slice();\n        const whiteFallenSoldiers = this.state.whiteFallenSoldiers.slice();\n        const blackFallenSoldiers = this.state.blackFallenSoldiers.slice();\n        const isDestEnemyOccupied = squares[i]? true : false; \n        const isMovePossible = squares[this.state.sourceSelection].isMovePossible(this.state.sourceSelection, i, isDestEnemyOccupied);\n        const srcToDestPath = squares[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection, i);\n        const isMoveLegal = this.isMoveLegal(srcToDestPath);\n\n        if(isMovePossible && isMoveLegal){\n          if(squares[i] !== null){\n            if(squares[i].player === 1){\n              whiteFallenSoldiers.push(squares[i]);\n            }\n            else{\n              blackFallenSoldiers.push(squares[i]);\n            }\n          }\n          squares[i] = squares[this.state.sourceSelection];\n          squares[this.state.sourceSelection] = null;\n          let player = this.state.player === 1? 2: 1;\n          let turn = this.state.turn === 'white'? 'black' : 'white';\n          this.setState({\n            sourceSelection: -1,\n            squares: squares,\n            whiteFallenSoldiers: whiteFallenSoldiers,\n            blackFallenSoldiers: blackFallenSoldiers,\n            player: player,\n            status: '',\n            turn: turn\n          });\n        }\n        else{\n          this.setState({\n            status: \"Wrong selection. Choose valid source and destination again.\",\n            sourceSelection: -1,\n          });\n        }\n      }\n    }\n\n  }\n\n  /**\n   * Check all path indices are null. For one steps move of pawn/others or jumping moves of knight array is empty, so  move is legal.\n   * @param  {[type]}  srcToDestPath [array of board indices comprising path between src and dest ]\n   * @return {Boolean}               \n   */\n  isMoveLegal(srcToDestPath){\n    let isLegal = true;\n    for(let i = 0; i < srcToDestPath.length; i++){\n      if(this.state.squares[srcToDestPath[i]] !== null){\n        isLegal = false;\n      }\n    }\n    return isLegal;\n  }\n\n  render() {\n\n    return (\n      <div>\n        <div className=\"game\">\n          <div className=\"game-board\">\n            <Board \n            squares = {this.state.squares}\n            onClick = {(i) => this.handleClick(i)}\n            />\n          </div>\n          <div className=\"game-info\">\n            <h3>Turn</h3>\n            <div id=\"player-turn-box\" style={{backgroundColor: this.state.turn}}>\n  \n            </div>\n            <div className=\"game-status\">{this.state.status}</div>\n\n            <div className=\"fallen-soldier-block\">\n              \n              {<FallenSoldierBlock\n              whiteFallenSoldiers = {this.state.whiteFallenSoldiers}\n              blackFallenSoldiers = {this.state.blackFallenSoldiers}\n              />\n            }\n            </div>\n            \n          </div>\n        </div>\n\n        <div className=\"icons-attribution\">\n          <div> <small> Chess Icons And Favicon (extracted) By en:User:Cburnett [<a href=\"http://www.gnu.org/copyleft/fdl.html\">GFDL</a>, <a href=\"http://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA-3.0</a>, <a href=\"http://opensource.org/licenses/bsd-license.php\">BSD</a> or <a href=\"http://www.gnu.org/licenses/gpl.html\">GPL</a>], <a href=\"https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces\">via Wikimedia Commons</a> </small></div>\n        </div>\n        <ul>\n          <li><a href=\"https://github.com/shar0906/chess-game\" target=\"_blank\">Source Code</a> </li>\n        </ul> \n      </div>\n\n     \n      );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport Game from './components/game.js';\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);"],"sourceRoot":""}