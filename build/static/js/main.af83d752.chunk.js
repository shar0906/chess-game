(this["webpackJsonpreact-chess"]=this["webpackJsonpreact-chess"]||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),i=a(8),n=a.n(i),o=(a(6),a(9)),l=a(1),c=a(2),u=a(4),h=a(3),p=a(5);function d(e){return r.a.createElement("button",{className:"square "+e.shade,onClick:e.onClick,style:e.style})}var b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderSquare",value:function(e,t){var a=this;return r.a.createElement(d,{piece:this.props.squares[e],style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return a.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<8;t++){for(var a=[],s=0;s<8;s++){var i=m(t)&&m(s)||!m(t)&&!m(s)?"light-square":"dark-square";a.push(this.renderSquare(8*t+s,i))}e.push(r.a.createElement("div",{className:"board-row"},a))}return r.a.createElement("div",null,e)}}]),t}(r.a.Component);function m(e){return e%2===0}var f=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderSquare",value:function(e,t,a){return r.a.createElement(d,{piece:e,style:e.style})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"board-row"},this.props.whiteFallenSoldiers.map((function(t,a){return e.renderSquare(t,a)}))),r.a.createElement("div",{className:"board-row"},this.props.blackFallenSoldiers.map((function(t,a){return e.renderSquare(t,a)}))))}}]),t}(r.a.Component),v=function e(t,a){Object(l.a)(this,e),this.player=t,this.style={backgroundImage:"url('"+a+"')"}},k=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg":"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg"))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:"getSrcToDestPath",value:function(e,t){var a,s,r,i=[];e>t?(a=t,s=e):(a=e,s=t),Math.abs(e-t)%9===0?(r=9,a+=9):(r=7,a+=7);for(var n=a;n<s;n+=r)i.push(n);return i}}]),t}(v),g=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg"))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:"getSrcToDestPath",value:function(e,t){return[]}}]),t}(v),w=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg"))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:"getSrcToDestPath",value:function(){return[]}}]),t}(v),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t,a){if(1===this.player){if(t===e-8&&!a||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(a&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!a||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(a&&(t===e+9||t===e+7))return!0}return!1}},{key:"getSrcToDestPath",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),t}(v),O=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg"))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,s=8-a;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-a&&t<e+s}},{key:"getSrcToDestPath",value:function(e,t){var a,s,r,i=[];e>t?(a=t,s=e):(a=e,s=t),Math.abs(e-t)%8===0?(r=8,a+=8):Math.abs(e-t)%9===0?(r=9,a+=9):Math.abs(e-t)%7===0?(r=7,a+=7):(r=1,a+=1);for(var n=a;n<s;n+=r)i.push(n);return i}}]),t}(v),j=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg"))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,s=8-a;return Math.abs(e-t)%8===0||t>=e-a&&t<e+s}},{key:"getSrcToDestPath",value:function(e,t){var a,s,r,i=[];e>t?(a=t,s=e):(a=e,s=t),Math.abs(e-t)%8===0?(r=8,a+=8):(r=1,a+=1);for(var n=a;n<s;n+=r)i.push(n);return i}}]),t}(v);function S(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new y(2),e[t+40]=new y(1);return e[0]=new j(2),e[7]=new j(2),e[56]=new j(1),e[63]=new j(1),e[1]=new w(2),e[6]=new w(2),e[57]=new w(1),e[62]=new w(1),e[2]=new k(2),e[5]=new k(2),e[58]=new k(1),e[61]=new k(1),e[3]=new O(2),e[4]=new g(2),e[59]=new O(1),e[60]=new g(1),e}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={squares:S(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,status:"",turn:"white"},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=E({},t[e].style,{backgroundColor:"RGB(111,143,114)"}),this.setState({status:"Choose destination for the selected piece",sourceSelection:e})):(this.setState({status:"Wrong selection. Choose player "+this.state.player+" pieces."}),t[e]&&(t[e].style=E({},t[e].style,{backgroundColor:""})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=E({},t[this.state.sourceSelection].style,{backgroundColor:""}),t[e]&&t[e].player===this.state.player)this.setState({status:"Wrong selection. Choose valid source and destination again.",sourceSelection:-1});else{var a=this.state.squares.slice(),s=this.state.whiteFallenSoldiers.slice(),r=this.state.blackFallenSoldiers.slice(),i=!!a[e],n=a[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,i),o=a[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection,e),l=this.isMoveLegal(o);if(n&&l){null!==a[e]&&(1===a[e].player?s.push(a[e]):r.push(a[e])),a[e]=a[this.state.sourceSelection],a[this.state.sourceSelection]=null;var c=1===this.state.player?2:1,u="white"===this.state.turn?"black":"white";this.setState({sourceSelection:-1,squares:a,whiteFallenSoldiers:s,blackFallenSoldiers:r,player:c,status:"",turn:u})}else this.setState({status:"Wrong selection. Choose valid source and destination again.",sourceSelection:-1})}}},{key:"isMoveLegal",value:function(e){for(var t=!0,a=0;a<e.length;a++)null!==this.state.squares[e[a]]&&(t=!1);return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement(b,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),r.a.createElement("div",{className:"game-info"},r.a.createElement("h3",null,"Turn"),r.a.createElement("div",{id:"player-turn-box",style:{backgroundColor:this.state.turn}}),r.a.createElement("div",{className:"game-status"},this.state.status),r.a.createElement("div",{className:"fallen-soldier-block"},r.a.createElement(f,{whiteFallenSoldiers:this.state.whiteFallenSoldiers,blackFallenSoldiers:this.state.blackFallenSoldiers})))),r.a.createElement("div",{className:"icons-attribution"},r.a.createElement("div",null," ",r.a.createElement("small",null," Chess Icons And Favicon (extracted) By en:User:Cburnett [",r.a.createElement("a",{href:"http://www.gnu.org/copyleft/fdl.html"},"GFDL"),", ",r.a.createElement("a",{href:"http://creativecommons.org/licenses/by-sa/3.0/"},"CC-BY-SA-3.0"),", ",r.a.createElement("a",{href:"http://opensource.org/licenses/bsd-license.php"},"BSD")," or ",r.a.createElement("a",{href:"http://www.gnu.org/licenses/gpl.html"},"GPL"),"], ",r.a.createElement("a",{href:"https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces"},"via Wikimedia Commons")," "))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/shar0906/chess-game",target:"_blank"},"Source Code")," ")))}}]),t}(r.a.Component);n.a.render(r.a.createElement(P,null),document.getElementById("root"))},6:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.af83d752.chunk.js.map